---
title: 小数运算不精确
date: 2020-1-02
tags:
 - js
categories:
 -  js小知识
---     

##  小数运算不精确   
> `console.log(0.5 - 0.4 === 0.1)` ? `//false`   

1. 出现小数精度问题的根源是js底层对于浮点数的存储是利用二进制    

2. 采取乘2取整，顺序排列的方式      
      ```js  
        0.125 ==> 001   
        0.125 * 2 = 0.25  //取0
        0.25 * 2 = 0.5  //取0
        0.5 * 2 = 1.0  //取1  
        //结果001   

        0.2  ==>  00110011.....
        0.2 * 2 = 0.4  //取0
        0.4 * 2 = 0.8  //取0
        0.8 * 2 = 1.6  //取1
        0.6 * 2 = 1.2  //取1
        0.2 * 2 = 0.4  //取0  
        。。。。  
      ```